@startuml

title Relationships - Class Diagram

abstract class MotionBehavior{
    -WheelVelocity UpdateVelocity(double leftDist,
    double rightDist, defaultSpeed)
}
class BehaviorCoward{
    +WheelVelocity UpdateVelocity(double leftDist,
    double rightDist, defaultSpeed)
}
class BehaviorAggressive{
    +WheelVelocity UpdateVelocity(double leftDist,
    double rightDist, defaultSpeed)
}
class BehaviorLove{
    +WheelVelocity UpdateVelocity(double leftDist,
    double rightDist, defaultSpeed)
}
class BehaviorExplore{
    +WheelVelocity UpdateVelocity(double leftDist,
    double rightDist, defaultSpeed)
}
class BehaviorNone{
    +WheelVelocity UpdateVelocity()
}

class Arena{
    -ArenaEntity * entities
    -Factory factory
}

class Factory{
    +BraitenbergVehicle * ConstructRobot(
    json_object& entity_config)
    +Food * ConstructFood(json_object& entity_config)
    +Light * ConstructLight(json_object& entity_config)
}

abstract class ArenaEntity{
    +virtual void TimestepUpdate(unsigned int dt)
    +virtual void Reset()
    +virtual void Update()
    +void RelativeChangeHeading(const double delta)
    +virtual void LoadFromObject(
    jsen_object& entity_config)
}

abstract class ArenaMobileEntity{
    +virtual void HandleCollision(EntityType ent_type,
    ArenaEntity * object)
    -double speed_
    -bool is_moving_
}

class Light{
    +void HandleCollision(EntityType ent_type,
    ArenaEntity * object)
}

class BraitenbergVehicle{
    +BraitenbergVehicle()
    +void TimestepUpdate(unsigned int dt)
    +void Update()
    +void HandleCollision(EntityType ent_type,
    ArenaEntity * object)
    +void SenseEntity(const ArenaEntity& entity)
    +void UpdateLightSensors()
    +void LoadFromObject(json_object& entity_config)
    -vector light_sensors_
    -WheelVelocity wheel_velocity_
    -MotionBehavior* light_behavior
    -MotionBehavior* food_behavior_
    -const ArenaEntity * closest_light_entity
    -const ArenaEntity* closest_food_entity_
    -double defaultSpeed_
    -double colliding_
}

abstract class ArenaImmobileEntity{
}
class Food

Arena *-left- Factory
Arena *-right- ArenaEntity
ArenaEntity <|-down- ArenaMobileEntity
ArenaEntity <|-down- ArenaImmobileEntity
ArenaImmobileEntity <|-down- Food
ArenaMobileEntity <|-down- Light
ArenaMobileEntity <|-down- BraitenbergVehicle

BraitenbergVehicle *-left- Behavior

Behavior <|-down- BehaviorCoward
Behavior <|-down- BehaviorNone
Behavior <|-down- BehaviorAggressive
Behavior <|-down- BehaviorExplore
Behavior <|-down- BehaviorLove


@enduml
