@startuml

title Relationships - Class Diagram

abstract class MotionBehavior
class BehaviorCoward
class BehaviorAggressive
class BehaviorLove
class BehaviorExplore
class BehaviorNone

class Arena{
    -ArenaEntity * entities
    -Factory factory
}

class Factory{
    +BraitenbergVehicle * ConstructRobot(json_object& entity_config)
    +Food * ConstructFood(json_object& entity_config)
    +Light * ConstructLight(json_object& entity_config)
}

abstract class ArenaEntity{
    +virtual void TimestepUpdate(unsigned int dt)
    +virtual void Reset()
    +virtual void Update()
    +void RelativeChangeHeading(const double delta)
    +virtual void LoadFromObject(jsen_object& entity_config)
}

abstract class ArenaMobileEntity

class Light

class BraitenbergVehicle{
    +BraitenbergVehicle()
    +void TimestepUpdate(unsigned int dt)
    +void Update()
    +void HandleCollision(EntityType ent_type, ArenaEntity * object)
    +void SenseEntity(const ArenaEntity& entity)
    +void UpdateLightSensors()
    +void LoadFromObject(json_object& entity_config)
    -vector light_sensors_
    -MotionBehavior * motion_behavior_
    -WheelVelocity wheel_velocity_
    -Behavior light_behavior
    -Behavior food_behavior_
    -const ArenaEntity * closest_light_entity
    -const ArenaEntity* closest_food_entity_
    -double defaultSpeed_
    -double colliding_
}

abstract class ArenaImmobileEntity
class Food

Arena *-left- Factory
Arena *-right- ArenaEntity
ArenaEntity <|-down- ArenaMobileEntity
ArenaEntity <|-down- ArenaImmobileEntity
ArenaImmobileEntity <|-down- Food
ArenaMobileEntity <|-down- Light
ArenaMobileEntity <|-down- BraitenbergVehicle

BraitenbergVehicle *-left- MotionBehavior

MotionBehavior <|-down- BehaviorCoward
MotionBehavior <|-down- BehaviorNone
MotionBehavior <|-down- BehaviorAggressive
MotionBehavior <|-down- BehaviorExplore
MotionBehavior <|-down- BehaviorLove


@enduml
